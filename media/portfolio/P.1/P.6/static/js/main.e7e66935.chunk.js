(this.webpackJsonpreactflag=this.webpackJsonpreactflag||[]).push([[0],{58:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(25),i=c.n(r),s=c(11),o=c(2),l=c(0),j=function(){return Object(l.jsxs)("div",{className:"logo",children:[Object(l.jsx)("img",{src:"./img/logo192.png",alt:"Logo"}),Object(l.jsx)("h3",{children:"React world"})]})},u=function(){return Object(l.jsxs)("div",{className:"navigation",children:[Object(l.jsx)(s.b,{exact:!0,to:"/",activeClassName:"nav-active",children:"Acceuil"}),Object(l.jsx)(s.b,{exact:!0,to:"a-propos",activeClassName:"nav-active",children:"A propos"}),Object(l.jsx)(s.b,{exact:!0,to:"news",activeClassName:"nav-active",children:"News"})]})},b=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(u,{}),Object(l.jsx)(j,{}),Object(l.jsx)("h1",{children:"A propos"}),Object(l.jsx)("br",{}),Object(l.jsx)("p",{children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Nisi rerum, alias cum voluptate temporibus hic maiores dolorem obcaecati corporis dolorum."})]})},d=c(4),h=c(9),O=c.n(h),x=function(e){var t,c=e.country;return Object(l.jsxs)("li",{className:"card",children:[Object(l.jsx)("img",{src:c.flag,alt:"flag"}),Object(l.jsx)("div",{className:"data-container",children:Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:c.name}),Object(l.jsx)("li",{children:c.capital}),Object(l.jsxs)("li",{children:["Pop. ",(t=c.population,t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "))]})]})})]})},p=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),i=Object(d.a)(r,2),s=i[0],o=i[1],j=Object(n.useState)(!0),u=Object(d.a)(j,2),b=u[0],h=u[1],p=Object(n.useState)(40),m=Object(d.a)(p,2),f=m[0],v=m[1],g=Object(n.useState)(""),N=Object(d.a)(g,2),S=N[0],w=N[1];return Object(n.useEffect)((function(){b&&O.a.get("https://restcountries.eu/rest/v2/all?fields=name;population;region;capital;flag").then((function(e){a(e.data),h(!1)}));!function(){var e=Object.keys(c).map((function(e){return c[e]})).sort((function(e,t){return t.population-e.population}));e.length=f,o(e)}()}),[c,f,b]),Object(l.jsxs)("div",{className:"countries",children:[Object(l.jsxs)("div",{className:"sort-container",children:[Object(l.jsx)("input",{type:"range",min:"1",max:"250",value:f,onChange:function(e){return v(e.target.value)}}),Object(l.jsx)("ul",{children:["Africa","America","Asia","Europe","Oceania"].map((function(e){return Object(l.jsxs)("li",{children:[Object(l.jsx)("input",{type:"radio",value:e,id:e,checked:e===S,onChange:function(e){return w(e.target.value)}}),Object(l.jsx)("label",{htmlFor:"radio",children:e})]},e)}))})]}),Object(l.jsx)("div",{className:"cancel",children:S&&Object(l.jsx)("h5",{onClick:function(){return w("")},children:"Annuler la recherche"})}),Object(l.jsx)("ul",{className:"countries-list",children:s.filter((function(e){return e.region.includes(S)})).map((function(e){return Object(l.jsx)(x,{country:e},e.name)}))})]})},m=function(){return Object(l.jsxs)("div",{className:"home",children:[Object(l.jsx)(u,{}),Object(l.jsx)(j,{}),Object(l.jsx)(p,{}),Object(l.jsx)("h1",{children:"Accueil"})]})},f=function(e){var t=e.id;return Object(l.jsx)("button",{onClick:function(){window.confirm("Voulez-vous supprimer cet article ?")&&(O.a.delete("http://localhost:3001/articles/"+t),window.location.reload())},children:"Supprimer"})},v=function(e){var t=e.article;console.log(t);var c,a=Object(n.useState)(!1),r=Object(d.a)(a,2),i=r[0],s=r[1],o=Object(n.useState)(""),j=Object(d.a)(o,2),u=j[0],b=j[1];return Object(l.jsxs)("div",{className:"article",style:{background:i?"#f3feff":"white"},children:[Object(l.jsxs)("div",{className:"card-header",children:[Object(l.jsx)("h3",{children:t.author}),Object(l.jsxs)("em",{children:["Post\xe9 le: ",(c=t.date,new Date(c).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}))]})]}),i?Object(l.jsx)("textarea",{onChange:function(e){return b(e.target.value)},autoFocus:!0,defaultValue:u||t.content}):Object(l.jsx)("p",{children:u||t.content}),Object(l.jsxs)("div",{className:"btn-container",children:[i?Object(l.jsx)("button",{onClick:function(){var e={author:t.author,content:u||t.content,date:t.date};O.a.put("http://localhost:3001/articles/"+t.id,e).then((function(){s(!1)}))},children:"Valider"}):Object(l.jsx)("button",{onClick:function(){return s(!0)},children:"Edit"}),Object(l.jsx)(f,{id:t.id})]})]})},g=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),i=Object(d.a)(r,2),s=i[0],o=i[1],b=Object(n.useState)(""),h=Object(d.a)(b,2),x=h[0],p=h[1],m=Object(n.useState)(!1),f=Object(d.a)(m,2),g=f[0],N=f[1];Object(n.useEffect)((function(){S()}),[]);var S=function(){O.a.get("http://localhost:3001/articles").then((function(e){return a(e.data)}))};return Object(l.jsxs)("div",{className:"news-contanier",children:[Object(l.jsx)(u,{}),Object(l.jsx)(j,{}),Object(l.jsx)("h1",{children:"Here is the news"}),Object(l.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),console.log("submit!"),x.length<5?N("true"):O.a.post("http://localhost:3001/articles",{author:s,content:x,date:Date.now()}).then((function(){N(!1),o(""),p(""),S()}))}(e)},children:[Object(l.jsx)("input",{onChange:function(e){return o(e.target.value)},type:"text",placeholder:"nom",value:s}),Object(l.jsx)("textarea",{style:{border:g?"1px solid red":"1px solid #61dafb"},onChange:function(e){return p(e.target.value)},placeholder:"Message",value:x}),g&&Object(l.jsx)("p",{children:"Veuiller \xe9crire un minimum de 5 caract\xe8res"}),Object(l.jsx)("input",{type:"submit",value:"Envoyer"})]}),Object(l.jsx)("ul",{children:c.sort((function(e,t){return t.date-e.date})).map((function(e){return Object(l.jsx)(v,{article:e},e.id)}))})]})},N=function(){return Object(l.jsx)("div",{children:Object(l.jsx)("h1",{children:"Erreur 404"})})},S=function(){return Object(l.jsx)(s.a,{children:Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{path:"/",exact:!0,component:m}),Object(l.jsx)(o.a,{path:"/a-propos",exact:!0,component:b}),Object(l.jsx)(o.a,{path:"/news",exact:!0,component:g}),Object(l.jsx)(o.a,{component:N})]})})};i.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(S,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.e7e66935.chunk.js.map